<!--pages/share/index.wxml-->
<view>
  <view class="page">
    <view class="top-title">
      {{posterName?posterName:''}}专属邀请海报
      <image bindtap="selectCode" class="downImg" src="../../assets/images/share/icon_down_nor.png" mode="widthFix"
        lazy-load></image>
    </view>
    <view class="share-pic">
      <view class="org-name">
        {{posterName?posterName:''}}专属邀请码
      </view>
      <view class="org-code">
        {{invitationCode?invitationCode:'******'}}
      </view>
      <view class="qrcode">
        <!-- 安卓 -->
        <canvas wx:if="{{systemInfo.platform == 'android'}}" type="2d"
          style="width: 130px; height: 130px;z-index: 999;margin-top: 794rpx;" id="myQrcode"></canvas>
        <!-- windows -->
        <canvas wx:if="{{systemInfo.platform == 'devtools'}}" type="2d"
          style="width: 130px; height: 130px;z-index: 999;margin-top: 794rpx;" id="myQrcode"></canvas>
        <!-- ios -->
        <canvas wx:if="{{systemInfo.platform == 'ios'}}" type="2d"
          style="width: 250rpx; height: 250rpx;z-index: 999;margin-top: 794rpx;" id="myQrcode"></canvas>
        <canvas hidden="{{false}}" type="2d"
          style="width: 130px; height: 130px;z-index: 999;margin-top: 794rpx;position:fixed;left:100%;"
          id="myIosQrcode"></canvas>
      </view>
      <image class="shareBg" src="../../assets/images/share/bg_share_poster_bg.png" mode="widthFix" lazy-load></image>
    </view>
    <view class="share-group fb-row-center">
      <!-- <view class="share-item-first fb-row-center item-flex-1">
        <image class="shareImg" src="../../assets/images/share/icon_share_share.png" mode="widthFix" lazy-load></image>
        <text class="share-text">分享好友</text>
      </view> -->
      <view class="share-item-first fb-row-center item-flex-1">
        <image class="shareImg" src="../../assets/images/share/icon_share_save.png" mode="widthFix" lazy-load></image>
        <text class="share-text" bindtap="savePoster">保存图片</text>
      </view>
      <view class="share-item fb-row-center item-flex-1">
        <image class="shareImg" src="../../assets/images/share/icon_share_copy.png" mode="widthFix" lazy-load></image>
        <text class="share-text" bindtap="copyBtn">复制邀请码</text>
      </view>
    </view>
    <!--屏幕背景变暗的背景  -->
    <view class="commodity_screen" bindtap="hideModal" wx:if="{{showModalStatus}}"></view>
    <!--弹出框  -->
    <view animation="{{animationData}}" class="commodity_attr_box" wx:if="{{showModalStatus}}">
      <!--自定义弹窗内容-->
      <view class="pop-top fb-col-center">
        请选择
      </view>
      <view class="pop-list">
        <view class="fb-row-center pop-item {{item.isCheck == true ? 'check-bg' : ''}}"
          style="justify-content: space-between;" wx:for="{{list}}" wx:key="index" wx:for-item="item"
          data-index="{{index}}" bindtap="selectItem">
          <view class="pop-item-text">
            {{item.organizationName}}
          </view>
          <view wx:if="{{!item.isCheck}}" class="nocheck"></view>
          <image wx:else class="check" src="../../assets/images/share/login_icon_check_sel.png" mode="widthFix"
            lazy-load>
          </image>
        </view>
      </view>
      <view class="confirm-btn fb-row-center" bindtap="selectBtn">
        确定
      </view>
    </view>
  </view>
  <view style='width:0px;height:0px;overflow:hidden;'>
    <canvas id="myCanvas" type="2d" style="border: 1px solid;width:366px;height:651px;z-index: 9999;" />
  </view>
</view>